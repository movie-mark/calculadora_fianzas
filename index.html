<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Acuerdos de Pago</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Calculadora de Acuerdos de Pago</h1>
            <p class="subtitle">Negocia las mejores condiciones para tu cliente</p>
        </header>

        <!-- Mensaje de Error para Par√°metros Faltantes -->
        <div id="error-message" class="error-message" style="display: none;">
            <h3>‚ö†Ô∏è Par√°metros Faltantes</h3>
            <p>Para usar esta calculadora, aseg√∫rate de incluir todos los par√°metros requeridos en la URL:</p>
            <ul id="missing-params"></ul>
            <p><strong>Ejemplo:</strong> <code>index.html?capital=1500000&intereses=300000&costos=150000</code></p>
        </div>

        <!-- Contenido Principal -->
        <div id="main-content" style="display: none;">
            
            <!-- Secci√≥n de Informaci√≥n de Deuda -->
            <section class="debt-info">
                <h2>Informaci√≥n de la Deuda</h2>
                <div class="debt-grid">
                    <div class="debt-item">
                        <span class="label">Capital Adeudado:</span>
                        <span class="value" id="capital-display">$0</span>
                    </div>
                    <div class="debt-item">
                        <span class="label">Intereses a la Fecha:</span>
                        <span class="value" id="intereses-display">$0</span>
                    </div>
                    <div class="debt-item">
                        <span class="label">Costos de Cobranza:</span>
                        <span class="value" id="costos-display">$0</span>
                    </div>
                    <div class="debt-item total">
                        <span class="label">Total Adeudado:</span>
                        <span class="value" id="total-display">$0</span>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Datos Informativos -->
            <section class="info-data">
                <h2>Informaci√≥n Adicional</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Fecha Inicio Mora:</span>
                        <span class="value" id="fecha-inicio-display">-</span>
                    </div>
                    <div class="info-item">
                        <span class="label">D√≠as en Mora:</span>
                        <span class="value" id="dias-mora-display">-</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Valor Cuota Anterior:</span>
                        <span class="value" id="cuota-anterior-display">-</span>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Negociaci√≥n -->
            <section class="negotiation">
                <h2>Opciones de Pago</h2>
                
                <!-- Para Deudas Menores a $1M -->
                <div id="small-debt-options" style="display: none;">
                    <div class="slider-container">
                        <label for="installments-slider">N√∫mero de Cuotas (m√°ximo 12 meses):</label>
                        <div class="slider-wrapper">
                            <input type="range" id="installments-slider" min="1" max="12" value="1">
                            <span id="installments-value">1 cuota</span>
                        </div>
                    </div>
                </div>

                <!-- Para Deudas Mayores a $1M -->
                <div id="large-debt-options" style="display: none;">
                    <div class="payment-options">
                        <button class="payment-option" data-plan="contado" data-min-cuotas="1" data-max-cuotas="1">
                            <div class="option-header">
                                <h3>CONTADO</h3>
                                <span class="discount-badge">30% OFF</span>
                            </div>
                            <div class="option-description">Pago inmediato</div>
                        </button>
                        
                        <button class="payment-option" data-plan="6meses" data-min-cuotas="2" data-max-cuotas="6">
                            <div class="option-header">
                                <h3>6 MESES</h3>
                                <span class="discount-badge">20% OFF</span>
                            </div>
                            <div class="option-description">2-6 cuotas mensuales</div>
                        </button>
                        
                        <button class="payment-option" data-plan="1a√±o" data-min-cuotas="7" data-max-cuotas="12">
                            <div class="option-header">
                                <h3>1 A√ëO</h3>
                                <span class="discount-badge">10% OFF</span>
                            </div>
                            <div class="option-description">7-12 cuotas mensuales</div>
                        </button>
                        
                        <button class="payment-option" data-plan="2a√±os" data-min-cuotas="13" data-max-cuotas="24">
                            <div class="option-header">
                                <h3>2 A√ëOS</h3>
                                <span class="discount-badge">Sin descuento</span>
                            </div>
                            <div class="option-description">13-24 cuotas mensuales</div>
                        </button>
                    </div>
                    
                    <!-- Slider din√°mico para ajustar cuotas -->
                    <div id="dynamic-slider" style="display: none;">
                        <div class="slider-container">
                            <label id="slider-label">Cuotas:</label>
                            <div class="slider-wrapper">
                                <input type="range" id="dynamic-installments-slider" min="1" max="24" value="12">
                                <span id="dynamic-installments-value">12 cuotas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Resultados -->
            <section class="results">
                <h2>Resumen del Acuerdo</h2>
                <div class="results-grid">
                    <div class="result-item">
                        <span class="label">Capital a Pagar:</span>
                        <span class="value" id="capital-pagar">$0</span>
                    </div>
                    
                    <div class="result-item savings">
                        <span class="label">Descuento en Capital:</span>
                        <span class="value" id="descuento-capital">$0</span>
                    </div>
                    
                    <div class="result-item savings">
                        <span class="label">Intereses Condonados:</span>
                        <span class="value" id="intereses-condonados">$0</span>
                    </div>
                    
                    <div class="result-item savings">
                        <span class="label">Costos Condonados:</span>
                        <span class="value" id="costos-condonados">$0</span>
                    </div>
                    
                    <div class="result-item total-savings">
                        <span class="label">Total Ahorrado:</span>
                        <span class="value" id="total-ahorro">$0</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="label">Valor por Cuota:</span>
                        <span class="value" id="valor-cuota">$0</span>
                    </div>
                    
                    <div class="result-item">
                        <span class="label">N√∫mero de Cuotas:</span>
                        <span class="value" id="numero-cuotas">0</span>
                    </div>
                </div>
            </section>

            <!-- Bot√≥n de Confirmar Acuerdo -->
            <section class="confirmation">
                <button id="confirm-agreement" class="confirm-btn" disabled>
                    <span class="btn-text">Confirmar Acuerdo de Pago</span>
                    <span class="btn-icon">üìã</span>
                </button>
                
                <div id="webhook-status" class="webhook-status" style="display: none;">
                    <div class="status-message">
                        <span class="status-icon">‚úÖ</span>
                        <span class="status-text">Acuerdo enviado exitosamente</span>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="calculator.js"></script>
</body>
</html>
